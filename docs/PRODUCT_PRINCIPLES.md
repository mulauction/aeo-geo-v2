# AEO/GEO v2 제품 원칙 (Product Constitution)

이 문서는 AEO/GEO v2의 핵심 제품 원칙을 정의합니다. 모든 기능 개발과 변경은 이 원칙을 준수해야 합니다.

---

## 1. Score = AI Observation Only

**핵심 원칙**: 점수(Score)는 AI가 콘텐츠를 관찰(observation)한 결과일 뿐입니다.

- ✅ 점수는 **현재 상태의 측정값**입니다
- ✅ 점수는 **AI가 콘텐츠를 분석**한 결과입니다
- ❌ 점수는 **사용자 행동**이나 **생성된 콘텐츠**에 의해 변경되지 않습니다
- ❌ 점수는 **실시간으로 재계산**되지 않습니다

**의미**:
- Analyze 단계에서 계산된 점수는 고정된 관찰 결과입니다
- Generate나 Amplify 단계에서 생성/실행된 콘텐츠가 점수에 영향을 주지 않습니다
- 점수는 "이 콘텐츠가 AI에게 어떻게 보이는가"를 나타냅니다

---

## 2. Analyze / Generate / Amplify 엄격한 분리

### 2.1 세 단계의 역할

**Analyze (분석)**
- 역할: 콘텐츠를 관찰하고 점수를 계산합니다
- 출력: 점수(Score), 등급(Grade), 근거(Evidence), 액션(Actions)
- 점수 영향: ✅ 점수를 생성합니다 (유일한 점수 생성 경로)

**Generate (생성)**
- 역할: AI용 콘텐츠를 생성합니다
- 출력: HTML, FAQ 등 4가지 고정 타입의 생성물
- 점수 영향: ❌ 절대 점수를 변경하지 않습니다

**Amplify (확대/실행)**
- 역할: 생성된 콘텐츠를 배포/로깅합니다
- 출력: 실행 로그, 배포 상태
- 점수 영향: ❌ 절대 점수를 변경하지 않습니다

### 2.2 분리 규칙

- ✅ 각 단계는 **독립적으로 동작**합니다
- ✅ 단계 간 **직접적인 데이터 흐름**이 없습니다
- ❌ Generate가 Analyze의 점수를 읽거나 수정할 수 없습니다
- ❌ Amplify가 점수를 재계산하거나 변경할 수 없습니다

---

## 3. Generate 출력은 4가지 타입으로 고정

Generate 단계에서 생성할 수 있는 출력은 다음 4가지 타입으로 고정됩니다:

1. **HTML 구조화 콘텐츠**
   - AI가 빠르게 이해할 수 있도록 구조화된 HTML
   - 제품/브랜드 정보를 포함한 랜딩 페이지 형태

2. **FAQ (자주 묻는 질문)**
   - 제품/서비스에 대한 질문과 답변 쌍
   - AI 검색 최적화를 위한 구조화된 Q&A

3. **URL 구조 미리보기** (로컬 규칙 기반)
   - URL 문자열만으로 점수를 계산하는 미리보기
   - 실제 점수에 영향을 주지 않는 참고용 계산

4. **메타데이터 템플릿**
   - SEO/AEO를 위한 메타 태그 구조
   - 구조화된 메타 정보 템플릿

**제한사항**:
- ❌ 이 4가지 타입 외의 출력을 생성할 수 없습니다
- ❌ 새로운 출력 타입을 동적으로 추가할 수 없습니다
- ✅ 각 타입의 내용은 사용자 입력에 따라 달라질 수 있습니다

---

## 4. Amplify는 절대 점수를 변경하지 않음

**절대 금지 사항**:
- ❌ Amplify 단계에서 점수를 재계산할 수 없습니다
- ❌ Amplify 단계에서 점수를 업데이트할 수 없습니다
- ❌ Amplify 단계에서 Analyze 결과를 수정할 수 없습니다

**Amplify의 역할**:
- ✅ 생성된 콘텐츠를 배포합니다
- ✅ 배포 상태를 로깅합니다
- ✅ 실행 이력을 기록합니다
- ✅ 점수와 무관한 실행 메타데이터만 관리합니다

**의미**:
- 배포/실행은 점수에 영향을 주지 않습니다
- 점수는 Analyze 단계에서만 결정됩니다
- Amplify는 "실행 로그"만 관리합니다

---

## 5. Phase 15에서 실시간 대량 관찰 없음

**Phase 15 제한사항**:
- ❌ 실시간으로 대량의 콘텐츠를 관찰하는 기능이 없습니다
- ❌ 배치 처리로 여러 콘텐츠를 동시에 분석하는 기능이 없습니다
- ❌ 자동화된 주기적 점수 재계산 기능이 없습니다

**허용되는 것**:
- ✅ 사용자가 명시적으로 요청한 단건 분석만 수행합니다
- ✅ Analyze 버튼 클릭 시에만 점수를 계산합니다
- ✅ 각 분석은 독립적으로 실행됩니다

**의미**:
- 점수 계산은 **사용자 주도(user-initiated)**입니다
- 점수 계산은 **단건 처리(single-item)**입니다
- 점수 계산은 **명시적 요청(explicit request)**에만 수행됩니다

---

## 6. 원칙 위반 시 조치

이 원칙을 위반하는 코드 변경은 다음 중 하나로 처리됩니다:

1. **즉시 되돌림(Revert)**: 원칙 위반 커밋은 즉시 되돌립니다
2. **브랜치 분리**: 원칙 위반 기능은 별도 브랜치에서 개발합니다
3. **문서화**: 원칙 위반 사유와 대안을 문서화합니다

---

## 7. 관련 문서

- [PHASE15_ROADMAP.md](./PHASE15_ROADMAP.md): Phase 15 로드맵 및 제약사항
- [WORKFLOW_GUARDRAILS.md](./WORKFLOW_GUARDRAILS.md): 개발 워크플로우 가드레일

---

**문서 생성일**: 2024년
**최종 수정일**: 2024년
**버전**: 1.0

